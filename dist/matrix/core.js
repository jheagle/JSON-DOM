"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}(function(){var e=this||{},n=e.jDomMatrixCore||{},t={};e.jDomMatrixCore=t,t.noConflict=function(){return e.jDomMatrixCore=n,t};var r=e.functionalHelpers;void 0===r&&("undefined"!=typeof require?r=require("../core/core.js"):console.error("matrix/core requires core/core"));var o=e.jDomMatrixObjects;void 0===o&&("undefined"!=typeof require?o=require("./objects.js"):console.error("matrix/core requires matrix/objects")),t.bindPointData=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.point(0,0,0);return r.mergeObjects(e,e.point?{point:r.cloneObject(n)}:{children:e.children.map((function(e,r){return t.bindPointData(e,Object.assign(n,_defineProperty({},e.axis,r)))}))})},t.nextCell=function(e,n){return o.point(e.x+n.x,e.y+n.y,e.z+n.z)},t.pointDifference=function(e,n){return o.point(n.x-e.x,n.y-e.y,n.z-e.z)},t.areEqualPoints=function(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z},t.getHighestAbsoluteCoordinate=function(e){return r.reduceObject(e,r.getAbsoluteMax,0)},t.getFirstAxisOfCoordinate=function(e,n){return Object.keys(e).filter((function(t){return e[t]===n}))[0]||!1};var i=function(e){return function(e,n){return!1!==(i=t.getFirstAxisOfCoordinate(e,n))?r.mergeObjects(o.point(0,0,0),_defineProperty({},"".concat(i),n>0?1:-1)):o.point(0,0,0);var i}(e,t.getHighestAbsoluteCoordinate(e))};t.pointsToDirection=function(e,n){return i(t.pointDifference(e,n))},t.randomStart=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.point(10,10,10);return o.point(r.randomInteger(t.x-(e-1)*n.x),r.randomInteger(t.y-(e-1)*n.y),r.randomInteger(t.z-(e-1)*n.z))},t.lineEndPoint=function(e,n,t){return o.point(e.x+t.x*(n-1),e.y+t.y*(n-1),e.z+t.z*(n-1))},t.getPointsLine=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.areEqualPoints(e,n)?r.concat([e]):t.getPointsLine(t.nextCell(e,t.pointsToDirection(e,n)),n,r.concat([e]))},t.getPointsLines=function(e){return e.reduce((function(e,n){return e.concat(t.getPointsLine.apply(t,_toConsumableArray(n)))}),[])},t.testPointsBetween=function(e,n,o,i){var c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return t.getPointsLine(e,n).filter((function(e,n,t){return 0!==n&&n!==t.length-1||c})).reduce((function(e,n){return r.mergeObjects(e,_defineProperty({},"".concat(i(n,o)),[n]))}),{true:[],false:[]})},t.checkInBetween=function(){return!!t.testPointsBetween.apply(t,arguments).true.length},t.getAxisLengths=function(e){return o.point(e.children[0].children[0].children.length,e.children[0].children.length,e.children.length)},t.randDirection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e[r.randomInteger(e.length)]:o.point(0,0,0)},t.checkValidPoint=function(e,n){return!!(n.children[e.z]&&n.children[e.z].children[e.y]&&n.children[e.z].children[e.y].children[e.x]&&n.children[e.z].children[e.y].children[e.x].point)},t.getDomItemFromPoint=function(e,n){return!!t.checkValidPoint(e,n)&&n.children[e.z].children[e.y].children[e.x]},t.getAllPoints=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.point?n.concat([e.point]):e.children.reduce((function(e,n){return e.concat(t.getAllPoints(n,[]))}),[])},t.adjacentPoints=function(e,n){return t.getPointsLines([[o.point(-1,1,1),o.point(1,-1,-1)],[o.point(1,1,1),o.point(-1,1,-1)],[o.point(-1,-1,1),o.point(1,-1,1)],[o.point(1,0,0),o.point(1,1,-1)],[o.point(-1,1,0),o.point(1,1,0)]]).concat([o.point(0,0,1),o.point(1,0,0),o.point(-1,0,-1),o.point(0,0,-1)]).map((function(n){return t.nextCell(e,n)})).filter((function(r){return t.checkValidPoint(t.nextCell(e,r),n)}))},t.adjacentEdgePoints=function(e,n){return[o.point(-1,0,0),o.point(1,0,0),o.point(0,-1,0),o.point(0,1,0),o.point(0,0,-1),o.point(0,0,1)].map((function(n){return t.nextCell(e,n)})).filter((function(e){return t.checkValidPoint(e,n)}))},t.getPointFromElement=function(e){return o.point(Array.from(e.parentNode.childNodes).indexOf(e),Array.from(e.parentNode.parentNode.childNodes).indexOf(e.parentNode),Array.from(e.parentNode.parentNode.parentNode.childNodes).indexOf(e.parentNode.parentNode))},t.getDomItemFromElement=function(e,n){return t.getDomItemFromPoint(t.getPointFromElement(e),n)},"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports=Object.assign(exports,t))}).call(window||{});